<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/icons.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/modules.css">
    <link rel="stylesheet" href="styles/state.css">
    <link rel="stylesheet" href="styles/reset.css">

    <title>Book List</title>
</head>
<body>
    <header>
        <section id="icon">
            <img src="styles/acl.png">
        </section>
        <h1>books app</h1>
        <div class="icon-menu"></div>
    </header>
    <nav class="nav-menu">
        <ul>
        <li><a href="/home">HomePage</a></li>
        <li><a href="/login">Admin Login</a></li>
        <li><a href="/books/new">Add New Book</a></li>
        </ul>
    </nav>
    <!-- views -->
    <main>
        <section id="books-view" class="view">
            <h2>my books</h2>
            <section id="books">
            <!-- books load here -->
            </section>
        </section>
        <section id="book-detail-view" class="view"></section>
        <section id="book-new-view" class="view">
            <form id="book-form">
                <div id= "form-style">
                    <fieldset>
                        <legend>Add a Book:</legend>
                        <label>
                            <input type="text" name= "title" value="title">
                        </label>
                        <label>
                            <input type="text" name="author" value="author">
                        </label>
                        <label>
                            <input type="text" name="isbn" value="isbn"> 
                        </label>
                        <label>
                            <input type="text" name="image_url" value="image_url">
                        </label>
                        <label>
                            <input type="text" name="description" value="description">
                        </label>
                    </fieldset>
                </div>
                <div>
                    <input type="submit" value="Submit">
                </div>
            </form>

        </section>
        <section id="error-view" class="view"></section>
        <section id="admin-view" class="view">
            <h2 class="view-title">verify your passphrase</h2>
            <form id="admin-form">
                <input id="passphrase" name="passphrase" placeholder="passphrase">
                <button type="submit">verify</button>
            </form>
            <p id="logged-in">you are logged in</p>
        </section>
        <section id="form-search-view" class="search-view">
            <form id="search-form">
                <fieldset>
                    <input type="text" value="title">
                    <input type="text" value="author">
                    <input type="number" value="isbn" required>
                    <input type="submit" value="search">
                </fieldset>
            </form>
        </section>
        <section id="results-search-view" class="search-view">
            <ul id="search-results">
            </ul>
        </section>
    </main>
    <footer>

    </footer>
    <!-- templates -->
    <script id="book-template" type="text/html">
        <section class="book card">
                <img class="book card img" src="{{image_url}}">
                <section class="book info">
                    <h2><a href = "/books/{{id}}">{{title}}</a></h2>
                    <h3>{{author}}</h3>
                </section>
        </section>
    </script>

    <script id="book-detail-template" type="text/html">
        <section class="book detail">
            <h2>{{title}}</h2>
            <h3 id="author">{{author}}</h3>
            <h3 id="isbn">{{isbn}}</h3>
            <img class="book detail img" src="{{image_url}}">
            <p>{{description}}</p>
            <input type="button" value="update" id="update">
            <input type="button" value="delete" id="delete">
        </section>
    </script>
    
    <script id="error-template" type="text/x-handlebars-template">
        <h3>Oops, something went wrong!</h3>
        <p>{{status}}: {{statusText}}</p>
    </script>

    <script id="result-template" type="text/html">
        <li>
            <section class="book card">
                    <img class="book card img" src="{{image_url}}">
                    <section class="book info">
                        <h2><a href = "/books/{{id}}">{{title}}</a></h2>
                        <h3>{{author}}</h3>
                        <button>Add me!</button>
                    </section>
            </section>
        </li>
    </script>


    <!-- config -->
    <script>    
        const API_URL = window.location.protocol === 'https:'
        ? 'https://bc2-booklist.herokuapp.com'
        : 'http://localhost:3000';
    
        window.module = {};
    </script>
    <!-- third party scripts -->
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>

        <!-- app scripts -->
    <script src="scripts/models/book.js"></script>
    <script src="scripts/models/user.js"></script>
    <script src="scripts/views/book-view.js"></script>
    <script src="scripts/views/error-view.js"></script>
    <script src="scripts/views/login-view.js"></script>
    <script src="scripts/app.js"></script>
</body>
</html>